[user_settings]
# Module selection: Set to true to run module, not recommended to run multiple
# modules at once.
preprocessing = false
adjustment = false
mapping = false
cord_preparation = true
# Common settings
shared_root_dir = "Office for National Statistics/Subnational Statistics - GDHI/2010-2023/System_Development/2025_Manual_Adjustments"
export_qa_files = false # Set to true to export interim QA files for preprocessing/adjustment modules
output_data = true
output_data_prefix = "ncc_test"
rollback_year_start = 2010
rollback_year_end = 2014
# Preprocessing settings
zscore_calculation = true # Set to true if you want to run z-score calculation
iqr_calculation = true # Set to true if you want to run IQR calculation
zscore_lower_threshold = -3.0 # zscore flagged if it is below this threshold
zscore_upper_threshold = 3.0 # zscore flagged if it is above this threshold
iqr_lower_quantile = 0.25 # quantile for IQR lower bound
iqr_upper_quantile = 0.75 # quantile for IQR upper bound
iqr_multiplier = 1.0 # multiplier for calculating IQR bounds
transaction_name = "Social Benefits Received â€“ Social Assistance Benefits in Cash"
# Adjustment settings
filter_sub_component = false # Set to true to filter constrained data for sub-components
sas_code_filter = "G866BTR"
cord_code_filter = "D75"
credit_debit_filter = "D"
accept_negatives = false # Set to true to keep negative values and not run apportion_negative_adjustment
# Mapping settings
data_lad_code = "lad_code"
data_lad_name = "lad_name"
aggregate_to_lad = false
# CORD preparation settings
accept_negatives_cord = true

#To run from SharePoint, you need to to go the Subnational Statistics -
#Regional Accounts sharepoint site, go into the subfolder 'GDHI' and click
#the 'sync' button to sync to your local OneDrive.
[preprocessing_settings]
input_unconstrained_file_path = "Testing_Data/DAP_exported_311025/GDHI_Disclosure_CIS_BIDS_Total_Benefits_Unconstrained.csv"
input_ra_lad_file_path = "Testing_Data/Reg_Accounts/GDHI_1997_2023_LAD_Wide_Form.csv"
output_dir = "Testing_Data/Output/Preprocessing/"
interim_filename = "manual_adj_preprocessing_interim_scores.csv" #Change name of file here
output_filename = "manual_adj_preprocessing_output.csv" #Change name of file here

[adjustment_settings]
input_adj_file_path = "PowerBI_Tool/2025_Files/Manual_Classification_Files/Prepped for Pipeline/SBRSS__manual_adj_classifications_Run1_NI.csv"
input_constrained_file_path = "Testing_Data/201125/251118_GDHI_LSOA_Apportioned_CORD_sbrss_only_names_fixed.csv"
input_unconstrained_file_path = "Testing_Data/201125/251118_GDHI_Disclosure_HMRC_SBRSS_Unconstrained_names_fixed.csv"
output_dir = "Testing_Data/Output/Adjustment/"
interim_filename =  "manual_adj_adjustments_interim_QA.csv" #Change name of file here
output_filename = "manual_adj_adjustments_output.csv" #Change name of file here

[mapping_settings]
input_adj_file_dir = "Testing_Data/Output/Adjustment/"
input_adj_file_name = "ncc_test_manual_adj_adjustments_output.csv"
input_lau_lad_mapper_dir = "Testing_Data/Mappers/"
# Lookup obtained from ONS Open Geography Portal
input_lau_lad_mapper_file = "LAD_(April_2025)_to_LAU1_to_ITL3_to_ITL2_to_ITL1_(January_2025)_Lookup_in_the_UK.csv"
output_dir =  "Testing_Data/Output/Mapping/"
output_filename = "manual_adj_adjustments_output_lad.csv"

[cord_prep_settings]
input_subcomponent_folder = "Testing_Data/CORD conversion"
subcomponent_lookup_file_path = "sub_component_lookup/subcomponent_transaction_credit_code_lookup.csv"
output_dir = "Testing_Data/Output/CORD_formatted/"
output_filename = "CP_data.csv"

[schema_paths]
schema_dir = "config/schemas/"
input_gdhi_schema_name = "input_gdhi_schema.toml"
input_ra_lad_schema_name = "input_ra_lad_schema.toml"
output_preprocess_schema_path = "output_preprocess_schema.toml"
input_adj_schema_name = "input_adj_schema.toml"
input_constrained_schema_name = "input_constrained_schema.toml"
input_unconstrained_schema_name = "input_unconstrained_schema.toml"
input_mapping_lau_lad_schema_name = "input_lau_lad_schema.toml"
output_adjustment_schema_path = "output_adjustment_schema.toml"
output_mapping_schema_path = "output_mapping_schema.toml"
output_cord_prep_schema_path = "output_cord_prep_schema.toml"
